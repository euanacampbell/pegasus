
<!doctype html>
<html lang="en">
  <head>
    <!-- Default -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/docs/4.0/assets/img/favicons/favicon.ico">

    <title>Pegasus</title>

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
    
    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        
    <!-- Custom CSS and JS -->
    <link href="/static/css/home.css" rel="stylesheet">
    <!-- <script src="/static/js/additional.js"></script> -->

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Josefin+Sans&display=swap" rel="stylesheet">
  </head>
  
    <body>

      <!-- Guest code box -->
      <div class="container code-box">
        <form class="d-flex" name="Form1" onsubmit="get_action(this);" style="padding: 10px; margin-bottom: 15px; margin-top: 15px;" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
          <!-- <input id="code" class="form-control me-2" type="search" placeholder="code" aria-label="Search"> -->
          <div class="input-group">
            <div class="input-group-prepend">
              <div class="input-group-text">></div>
            </div>
            <input name="input" type="text" class="form-control" id="input" type="search" value="{{ info['command'] }}">
          </div>
          <button class="btn btn-outline-success" type="submit">Go</button>
        </form>

        <!-- <div name="results" style="border: 1px; border-style: solid; border-radius: 5px; border-color: darkgray;padding: 5px;"> -->
        <div>

          <!-- STRING -->
          {% if info['result_type']=='string' %}
            <p>{{ info['results'] }}</p>
          
          <!-- ERROR -->
          {% elif info['result_type']=='error' %}
            <div class="alert alert-danger" role="alert">
              {{ info['results'] }}
            </div>
          
          <!-- LISTOFDICT -->
          {% elif info['result_type']=='listofdict' %}
            {% for table in info['results'] %}
            <table class="table table-hover table-bordered align-middle">
              <thead>
                <tr>
              {% for row in table['columns'] %}
                <th>{{ row }}</th>
              {% endfor %}
                </tr>
              </thead>
              <tbody>
              {% for row in table['results'] %}
                  <tr>
                      {% for col in row %}
                        <td>{{ col }}</td>
                      {% endfor %}
                  </tr>
              {% endfor %}
              </tbody>
              </table>
            {% endfor %}
          <!-- LIST OF LISTS -->
          {% elif info['result_type']=='listoflist' %}
            <table class="table align-middle">
              <tbody>
              {% for row in info['results'] %}
                  <tr>
                      {% for col in row %}
                        <td>{{ col }}</td>
                      {% endfor %}
                  </tr>
              {% endfor %}
              </tbody>
              </table>
          {% elif info['result_type']=='list' %}
            
              {% for row in info['results'] %}
                <textarea class="form-control" id="exampleFormControlTextarea1" style='overflow: auto; margin-bottom: 5px;' rows="{{ row.split('\n') | length }}">{{ row }}</textarea>
              {% endfor %}
          <!-- ELSE -->
          {% else%}
              <p1>not picked up: {{ info['result_type'] }}</p1>
          {% endif %}
          


        </div>
      </div>


      

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <script>
      function get_action(form) {
            console.log('i tried')
            form.action = '/command';
          }  
    </script>

  </body>
</html>
